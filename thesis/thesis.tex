\documentclass[italian]{mimosis}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Some of my favourite personal adjustments
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% These are the adjustments that I consider necessary for typesetting
% a nice thesis. However, they are *not* included in the template, as
% I do not want to force you to use them.

% This ensures that I am able to typeset bold font in table while still aligning
% the numbers correctly.
\usepackage{etoolbox}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Hyperlinks & bookmarks
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage[%
	colorlinks = true,
	citecolor  = Black,
	linkcolor  = Black,
	urlcolor   = Black,
	unicode,
]{hyperref}

\usepackage{bookmark}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Bibliography
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% I like the bibliography to be extremely plain, showing only a numeric
% identifier and citing everything in simple brackets. The first names,
% if present, will be initialized. DOIs and URLs will be preserved.

\usepackage[%
	autocite     = plain,
	backend      = biber,
	doi          = true,
	url          = true,
	giveninits   = true,
	hyperref     = true,
	maxbibnames  = 99,
	maxcitenames = 99,
	sortcites    = true,
	style        = numeric,
]{biblatex}

\input{bibliography-mimosis}
\addbibresource{thesis.bib}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Fonts
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\ifxetexorluatex
	\usepackage{unicode-math}
	\setmainfont{EB Garamond}
	\setmathfont{Garamond Math}
	\setmonofont[Scale=MatchLowercase]{Source Code Pro}
\else
	\usepackage[lf]{ebgaramond}
	\usepackage[oldstyle,scale=0.7]{sourcecodepro}
	\singlespacing
\fi

\newacronym[description={Principal component analysis}]{PCA}{PCA}{principal
	component analysis}
\newacronym{SNF}{SNF}{Smith normal form}
\newacronym[description={Topological data analysis}]{TDA}{TDA}{topological
	data analysis}

\newglossaryentry{LaTeX}{%
	name        = {\LaTeX},
	description = {A document preparation system},
	sort        = {LaTeX},
}

\newglossaryentry{Real numbers}{%
	name        = {$\real$},
	description = {The set of real numbers},
	sort        = {Real numbers},
}

\makeindex
\makeglossaries

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Ordinals
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\makeatletter
\@ifundefined{st}{%
	\newcommand{\st}{\textsuperscript{\textup{st}}\xspace}
}{}
\@ifundefined{rd}{%
	\newcommand{\rd}{\textsuperscript{\textup{rd}}\xspace}
}{}
\@ifundefined{nd}{%
	\newcommand{\nd}{\textsuperscript{\textup{nd}}\xspace}
}{}
\makeatother

\renewcommand{\th}{\textsuperscript{\textup{th}}\xspace}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Incipit
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}

\frontmatter
\include{tex/title}
\include{tex/dedication}
\include{tex/abstract}

\tableofcontents

\mainmatter

\include{tex/introduction}

\bookmarksetup{startatroot}
\backmatter

\begingroup
\let\clearpage\relax
\glsaddall
\endgroup

\printindex
\printbibliography

\include{tex/thanks}

\end{document}
